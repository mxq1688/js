{"ast":null,"code":"var _jsxFileName = \"/Users/meng/www/tp5/JS/react.js/myapp/src/antd/TodoList.js\";\nimport React, { Component, Fragment } from 'react';\nimport 'antd/dist/antd.css';\nimport store from '../store/index';\nimport { getInputChangeAction, getListChangeAction } from \"../store/actionCreator\";\nimport TodoListUi from '../tpl/TodoListUi';\nconst data = ['Racing car sprays burning fuel into crowd.', 'Japanese princess to wed commoner.', 'Australian walks 100km after outback crash.', 'Man charged over missing wedding girl.', 'Los Angeles battles huge wildfires.'];\n\nclass TodoList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = store.getState();\n    store.subscribe(this.handStoreChange.bind(this)); //监听到store变化然后修改state\n\n    this.handInputChange = this.handInputChange.bind(this);\n    this.addList = this.addList.bind(this);\n    this.deleteList = this.deleteList.bind(this);\n  }\n\n  handStoreChange() {\n    this.setState(store.getState());\n  }\n\n  handInputChange(e) {\n    const value = e.target.value;\n    const action = getInputChangeAction(value);\n    store.dispatch(action);\n  }\n\n  addList() {\n    const action = getListChangeAction([...this.state.list, this.state.inputValue]);\n    store.dispatch(action);\n  }\n\n  deleteList(index) {\n    console.log(index);\n    var list = this.state.list;\n    list.splice(index, 1);\n    const action = getListChangeAction(list);\n    store.dispatch(action);\n  }\n\n  render() {\n    return React.createElement(TodoListUi, {\n      inputValue: this.state.inputValue,\n      list: this.state.list,\n      handInputChange: this.handInputChange,\n      addList: this.addList,\n      deleteList: this.deleteList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default TodoList;","map":{"version":3,"sources":["/Users/meng/www/tp5/JS/react.js/myapp/src/antd/TodoList.js"],"names":["React","Component","Fragment","store","getInputChangeAction","getListChangeAction","TodoListUi","data","TodoList","constructor","props","state","getState","subscribe","handStoreChange","bind","handInputChange","addList","deleteList","setState","e","value","target","action","dispatch","list","inputValue","index","console","log","splice","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,oBAAP;AACA,OAAQC,KAAR,MAAoB,gBAApB;AACA,SAAQC,oBAAR,EAA8BC,mBAA9B,QAAwD,wBAAxD;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AAEA,MAAMC,IAAI,GAAG,CACT,4CADS,EAET,oCAFS,EAGT,6CAHS,EAIT,wCAJS,EAKT,qCALS,CAAb;;AAOA,MAAMC,QAAN,SAAuBP,SAAvB,CAAgC;AAC5BQ,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAaR,KAAK,CAACS,QAAN,EAAb;AACAT,IAAAA,KAAK,CAACU,SAAN,CAAgB,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAhB,EAHc,CAGmC;;AACjD,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKE,OAAL,GAAe,KAAKA,OAAL,CAAaF,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKG,UAAL,GAAkB,KAAKA,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,CAAlB;AACH;;AACDD,EAAAA,eAAe,GAAE;AACb,SAAKK,QAAL,CAAchB,KAAK,CAACS,QAAN,EAAd;AACH;;AACDI,EAAAA,eAAe,CAACI,CAAD,EAAG;AACd,UAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAAvB;AACA,UAAME,MAAM,GAAGnB,oBAAoB,CAACiB,KAAD,CAAnC;AACAlB,IAAAA,KAAK,CAACqB,QAAN,CAAeD,MAAf;AACH;;AACDN,EAAAA,OAAO,GAAE;AACL,UAAMM,MAAM,GAAGlB,mBAAmB,CAAC,CAAC,GAAG,KAAKM,KAAL,CAAWc,IAAf,EAAqB,KAAKd,KAAL,CAAWe,UAAhC,CAAD,CAAlC;AACAvB,IAAAA,KAAK,CAACqB,QAAN,CAAeD,MAAf;AACH;;AACDL,EAAAA,UAAU,CAACS,KAAD,EAAO;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,QAAIF,IAAI,GAAG,KAAKd,KAAL,CAAWc,IAAtB;AACAA,IAAAA,IAAI,CAACK,MAAL,CAAYH,KAAZ,EAAmB,CAAnB;AACA,UAAMJ,MAAM,GAAGlB,mBAAmB,CAACoB,IAAD,CAAlC;AAEAtB,IAAAA,KAAK,CAACqB,QAAN,CAAeD,MAAf;AACH;;AACDQ,EAAAA,MAAM,GAAG;AACL,WAAO,oBAAC,UAAD;AACH,MAAA,UAAU,EAAE,KAAKpB,KAAL,CAAWe,UADpB;AAEH,MAAA,IAAI,EAAE,KAAKf,KAAL,CAAWc,IAFd;AAGH,MAAA,eAAe,EAAE,KAAKT,eAHnB;AAIH,MAAA,OAAO,EAAE,KAAKC,OAJX;AAKH,MAAA,UAAU,EAAE,KAAKC,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAQH;;AAtC2B;;AAyChC,eAAeV,QAAf","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport 'antd/dist/antd.css'\nimport  store  from '../store/index'\nimport {getInputChangeAction, getListChangeAction} from \"../store/actionCreator\";\nimport TodoListUi from '../tpl/TodoListUi'\n\nconst data = [\n    'Racing car sprays burning fuel into crowd.',\n    'Japanese princess to wed commoner.',\n    'Australian walks 100km after outback crash.',\n    'Man charged over missing wedding girl.',\n    'Los Angeles battles huge wildfires.',\n];\nclass TodoList extends Component{\n    constructor(props){\n        super(props)\n        this.state = store.getState();\n        store.subscribe(this.handStoreChange.bind(this));//监听到store变化然后修改state\n        this.handInputChange = this.handInputChange.bind(this)\n        this.addList = this.addList.bind(this)\n        this.deleteList = this.deleteList.bind(this)\n    }\n    handStoreChange(){\n        this.setState(store.getState())\n    }\n    handInputChange(e){\n        const value = e.target.value\n        const action = getInputChangeAction(value);\n        store.dispatch(action)\n    }\n    addList(){\n        const action = getListChangeAction([...this.state.list, this.state.inputValue])\n        store.dispatch(action);\n    }\n    deleteList(index){\n        console.log(index);\n        var list = this.state.list;\n        list.splice(index, 1)\n        const action = getListChangeAction(list)\n\n        store.dispatch(action)\n    }\n    render() {\n        return <TodoListUi\n            inputValue={this.state.inputValue}\n            list={this.state.list}\n            handInputChange={this.handInputChange}\n            addList={this.addList}\n            deleteList={this.deleteList}\n        />\n\n    }\n}\n\nexport default TodoList;\n"]},"metadata":{},"sourceType":"module"}