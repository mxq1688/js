<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SET MAP</title>
</head>
<body>

<div id="myDiv">11</div>
<div>11</div>
<div>11</div>
<div>11</div>
<div>11</div>
<div>11</div>
<div>11</div>


<script>
    //ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。
    const s = new Set();
    [2, 3, 5, 4, 5, 2, 2].forEach(x => s.add(x));//可以去重

    for (let i of s) {
        // console.log(i);
    }

    // 例一
    var set = new Set([1, 2, 3, 4, 4]);
    console.log(set);
    console.log([...set]);
    // [1, 2, 3, 4]

    // 例二
    var items = new Set([1, 2, 3, 4, 5, 5, 5, 5]);
    items.size // 5
    console.log(items.size);

    // 例三
    var set = new Set(document.querySelectorAll('div'));
    set.size // 56
    console.log(document.querySelectorAll('div'));
    console.log(set.size);

    // 类似于
    var set = new Set();
    document
        .querySelectorAll('div')
        .forEach(div => set.add(div));
    console.log(set.size);


    var mset = new Set();

    //set内部对象是不相等的
    mset.add({name:123})
    mset.add({name:123})
    console.log(mset.size);//2

    //去重字符串
    console.log(new Set('ababbc'))
    console.log([...new Set('ababbc')].join(''));


    //Map
    // 为了解决这个问题，ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键
    const data = {};
    const element = document.getElementById('myDiv');
    console.log(element);
    data[element] = 'metadata';
    data['[object HTMLDivElement]'] // "metadata"
    console.log(data);


    const m = new Map();
    const o = {p: 'Hello World'};
    m.set(o, 'content')
    m.get(o) // "content"
    m.has(o) // true
    m.delete(o) // true
    m.has(o) // false


    var map = new Map([
        ['name', 'mxq'],
        ['phone', '187'],
    ]);
    console.log(map, map.get('name'),map.has('phone'), map.size);

    var arr = [
        ['name', 'mxq'],
        ['phone', '187'],
    ]
    var map = new Map();
    arr.forEach(([key, value]) => map.set(key, value))
    console.log(map);


</script>
</body>
</html>
